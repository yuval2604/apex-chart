{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/Web/charts and graphs/apexchart/client/src/components/SplineCharts.jsx\";\nimport React, { Component } from \"react\";\nimport ReactApexChart from \"react-apexcharts\";\nimport ReactFileReader from \"react-file-reader\";\nimport text from \"./israel.txt\";\n\nclass SplineChart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      dates: [],\n      cases: [],\n      newcases: [],\n      hardcases: [],\n      dead: [],\n      series: [{\n        name: \"series1\",\n        data: [3824, 4316, 4782, 5523, 6168, 6857, 7120]\n      }],\n      options: {\n        chart: {\n          height: 350,\n          type: \"area\"\n        },\n        dataLabels: {\n          enabled: false\n        },\n        stroke: {\n          curve: \"smooth\"\n        },\n        xaxis: {\n          type: \"datetime\",\n          categories: []\n        },\n        tooltip: {\n          x: {\n            format: \"dd/MM/yy\"\n          }\n        }\n      }\n    };\n  }\n\n  handleFetch() {\n    console.log(\"handle Fetch\");\n    fetch(\"http://127.0.0.1:3001/api/is\").then(data => data.json()).then(res => this.setState({\n      data: res.data.split(\"[\")\n    })).then(res => this.handleLoop(this.state.data)); // .then((res) => console.log(this.state.data[3].split(\" \")[0])); //date\n  }\n\n  handleLoop(data) {\n    for (var i in data) {\n      var newd = data[i].split(\" \");\n      this.state.dates[i] = newd[0];\n      this.state.options.xaxis.categories[i] = newd[0];\n      this.state.cases[i] = newd[1];\n      this.state.newcases[i] = newd[2];\n      this.state.hardcases[i] = newd[3];\n      this.state.dead[i] = newd[4];\n    }\n\n    console.log(\"handle loop finish\", this.state);\n  }\n\n  componentDidMount() {\n    // this.handleFetch();\n    console.log(\"handle Fetch\");\n    fetch(\"http://127.0.0.1:3001/api/is\").then(data => data.json()).then(res => this.setState({\n      data: res.data.split(\"[\")\n    })).then(res => function () {\n      var data = this.state.data;\n\n      for (var i in data) {\n        var newd = data[i].split(\" \");\n        this.state.dates[i] = newd[0];\n        this.state.options.xaxis.categories[i] = newd[0];\n        this.state.cases[i] = newd[1];\n        this.state.newcases[i] = newd[2];\n        this.state.hardcases[i] = newd[3];\n        this.state.dead[i] = newd[4];\n      }\n    });\n    console.log(\"finish\");\n  }\n\n  handleChart() {\n    console.log(\"handlechart\");\n    return React.createElement(ReactApexChart, {\n      options: this.state.options,\n      series: this.state.series,\n      type: \"area\",\n      height: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    });\n  }\n\n  componentWillMount() {\n    console.log(\"componentWillUnmount\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.handleChart());\n  }\n\n}\n\nexport default SplineChart;","map":{"version":3,"sources":["/Users/user/Documents/Web/charts and graphs/apexchart/client/src/components/SplineCharts.jsx"],"names":["React","Component","ReactApexChart","ReactFileReader","text","SplineChart","constructor","props","state","data","dates","cases","newcases","hardcases","dead","series","name","options","chart","height","type","dataLabels","enabled","stroke","curve","xaxis","categories","tooltip","x","format","handleFetch","console","log","fetch","then","json","res","setState","split","handleLoop","i","newd","componentDidMount","handleChart","componentWillMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ReactApexChart from \"react-apexcharts\";\nimport ReactFileReader from \"react-file-reader\";\n\nimport text from \"./israel.txt\";\n\nclass SplineChart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      dates: [],\n      cases: [],\n      newcases: [],\n      hardcases: [],\n      dead: [],\n\n      series: [\n        {\n          name: \"series1\",\n          data: [3824, 4316, 4782, 5523, 6168, 6857, 7120],\n        },\n      ],\n      options: {\n        chart: {\n          height: 350,\n          type: \"area\",\n        },\n        dataLabels: {\n          enabled: false,\n        },\n        stroke: {\n          curve: \"smooth\",\n        },\n        xaxis: {\n          type: \"datetime\",\n          categories: [],\n        },\n        tooltip: {\n          x: {\n            format: \"dd/MM/yy\",\n          },\n        },\n      },\n    };\n  }\n\n  handleFetch() {\n    console.log(\"handle Fetch\");\n    fetch(\"http://127.0.0.1:3001/api/is\")\n      .then((data) => data.json())\n      .then((res) => this.setState({ data: res.data.split(\"[\") }))\n      .then((res) => this.handleLoop(this.state.data));\n    // .then((res) => console.log(this.state.data[3].split(\" \")[0])); //date\n  }\n  handleLoop(data) {\n    for (var i in data) {\n      var newd = data[i].split(\" \");\n      this.state.dates[i] = newd[0];\n      this.state.options.xaxis.categories[i] = newd[0];\n      this.state.cases[i] = newd[1];\n      this.state.newcases[i] = newd[2];\n      this.state.hardcases[i] = newd[3];\n      this.state.dead[i] = newd[4];\n    }\n    console.log(\"handle loop finish\", this.state);\n  }\n\n  componentDidMount() {\n    // this.handleFetch();\n    console.log(\"handle Fetch\");\n    fetch(\"http://127.0.0.1:3001/api/is\")\n      .then((data) => data.json())\n      .then((res) => this.setState({ data: res.data.split(\"[\") }))\n      .then(\n        (res) =>\n          function () {\n            var data = this.state.data;\n            for (var i in data) {\n              var newd = data[i].split(\" \");\n              this.state.dates[i] = newd[0];\n              this.state.options.xaxis.categories[i] = newd[0];\n              this.state.cases[i] = newd[1];\n              this.state.newcases[i] = newd[2];\n              this.state.hardcases[i] = newd[3];\n              this.state.dead[i] = newd[4];\n            }\n          }\n      );\n\n    console.log(\"finish\");\n  }\n\n  handleChart() {\n    console.log(\"handlechart\");\n    return (\n      <ReactApexChart\n        options={this.state.options}\n        series={this.state.series}\n        type=\"area\"\n        height={300}\n      />\n    );\n  }\n\n  componentWillMount() {\n    console.log(\"componentWillUnmount\");\n  }\n\n  render() {\n    return <div id=\"chart\">{this.handleChart()}</div>;\n  }\n}\nexport default SplineChart;\n"]},"metadata":{},"sourceType":"module"}